<ng-container
  *ngIf="{
    blogPosts: blogPosts$ | async,
  } as viewData">
  @if (!!viewData?.blogPosts?.isLoading) {
    <div class="blog-post-list blog-post-list__empty">
      <p>Nothing to show here yet...</p>
      <p>Go to "Create new blog post" in order to create a new blog post</p>
    </div>
  } @else {
    <div class="blog-post-list">
      <div class="blog-post-list__grid">
        @for (blogPost of viewData?.blogPosts?.data; track $index) {
          <mat-card class="blog-post-card" appearance="outlined" (click)="onShowBlogPost(blogPost)">
            <mat-card-header>
              <mat-card-title>#{{ $index + 1 }}</mat-card-title>
            </mat-card-header>

            <mat-card-content>
              <p>
                {{
                  blogPost.description.length > ELLIPSIS_BREAKPOINT
                    ? blogPost.description.substring(0, ELLIPSIS_BREAKPOINT) + '...'
                    : blogPost.description
                }}
              </p>
            </mat-card-content>

            <mat-card-footer class="blog-post-card__footer">
              <mat-chip-set>
                <mat-chip>{{ LENGTH_DESCRIPTIONS_MAP[blogPost.length] }}</mat-chip>
                <mat-chip>{{ STRUCTURE_DESCRIPTIONS_MAP[blogPost.structure] }}</mat-chip>
              </mat-chip-set>

              <button mat-stroked-button color="primary" (click)="onShowBlogPost(blogPost)">
                Show
              </button>
            </mat-card-footer>
          </mat-card>
        }
      </div>
    </div>
  }
</ng-container>
